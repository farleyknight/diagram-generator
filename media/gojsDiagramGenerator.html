<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoJS Diagram Generator</title>
    <style>
        body { font-family: sans-serif; margin: 20px; }
        #myDiagramDiv { border: solid 1px black; width: 100%; height: 600px; }
    </style>
</head>
<body>
    <h1>GoJS Diagram Generator</h1>
    <p>This is a placeholder for the GoJS diagram generation webview.</p>
    <button id="generateButton">Generate GoJS Diagram</button>
    <div id="myDiagramDiv"></div>
    <script>
        // Basic VS Code Webview API setup
        const vscode = acquireVsCodeApi();

        // Placeholder for GoJS initialization and diagram logic
        function init() {
            // In a real scenario, you would initialize GoJS here.
            // For example:
            // const $ = go.GraphObject.make;
            // const myDiagram = $(go.Diagram, "myDiagramDiv", { initialContentAlignment: go.Spot.Center });
            // myDiagram.model = new go.GraphLinksModel([{ key: "Alpha", color: "lightblue" }],[]);

            const diagramDiv = document.getElementById('myDiagramDiv');
            diagramDiv.textContent = 'GoJS Diagram Area - Initialization placeholder';

            // Send webviewReady only after DOM is fully ready, including new button
            vscode.postMessage({ command: 'webviewReady' });
        }

        document.addEventListener('DOMContentLoaded', () => {
            const generateButton = document.getElementById('generateButton');
            if (generateButton) {
                generateButton.addEventListener('click', () => {
                    vscode.postMessage({ command: 'initiateGoJsGeneration', payload: {} });
                });
            }
            // Initialize after setting up listeners
            init();
        });

        window.addEventListener('message', event => {
            const message = event.data;
            switch (message.command) {
                // Add cases to handle messages from the extension
                // For example:
                // case 'loadDiagramData':
                //     // load GoJS diagram data
                //     break;
            }
        });
    </script>
</body>
</html> 